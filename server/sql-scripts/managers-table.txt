DROP TABLE managers;

CREATE TABLE managers (
    id SERIAL PRIMARY KEY,
    manager_name VARCHAR(100),
    created_at TIMESTAMP DEFAULT current_timestamp,
    updated_at TIMESTAMP DEFAULT current_timestamp
);

CREATE FUNCTION update_timestamp()
RETURNS TRIGGER AS '
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END' LANGUAGE 'plpgsql';

CREATE TRIGGER update_trigger
BEFORE UPDATE ON managers
FOR EACH ROW
EXECUTE PROCEDURE update_timestamp();

INSERT INTO managers (manager_name) VALUES ('Anna Sevon');
INSERT INTO managers (manager_name) VALUES ('Anton Nilsson');
INSERT INTO managers (manager_name) VALUES ('Matthias Bauhofer');
INSERT INTO managers (manager_name) VALUES ('Edward Templeton');
INSERT INTO managers (manager_name) VALUES ('Per Lundin');

SELECT * FROM managers;
